<div class="load-btn-container">
  <button
    mat-button
    (click)="loadCharacters()"
    color="primary"
    class="load-btn"
  >
    <span>Load All Characters</span>
    <mat-icon>autorenew</mat-icon>
  </button>
</div>

<div class="character-container">
  <div class="character-section">
    <mat-list class="character-list">
      <mat-list-item
        *ngFor="let character of summary"
        (click)="loadCharacter(character)"
        class="characters"
        [class.selected]="character === selectedCharacter"
        ><div class="character-name">{{ characterFullName(character) }}</div>
        <mat-icon
          matListItemIcon
          fontIcon="delete"
          color="warn"
          class="delete-character"
          (click)="
            deleteCharacter(character.id); $event.stopImmediatePropagation()
          "
        ></mat-icon>
      </mat-list-item>
    </mat-list>
    <div class="form-action-container">
      <button
        mat-flat-button
        color="accent"
        class="create-btn"
        [disabled]="!canCreate"
        (click)="createNewCharacter()"
      >
        CREATE
      </button>
    </div>
  </div>
  <div class="character-section">
    <ng-container *ngIf="editedCharacter">
      <h2>
        {{ title }}
      </h2>
      <form class="edit" (ngSubmit)="submit()">
        <mat-form-field appearance="outline">
          <mat-label>Last Name</mat-label>
          <input
            matInput
            autofocus
            [(ngModel)]="editedCharacter.lastName"
            [ngModelOptions]="{ standalone: true }"
        /></mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>First Name</mat-label>
          <input
            matInput
            [(ngModel)]="editedCharacter.firstName"
            [ngModelOptions]="{ standalone: true }"
        /></mat-form-field>
        <mat-form-field appearance="outline">
          <mat-label>Email</mat-label>
          <input
            matInput
            [(ngModel)]="editedCharacter.email"
            [ngModelOptions]="{ standalone: true }"
        /></mat-form-field>

        <div class="form-action-container">
          <button
            mat-flat-button
            type="submit"
            color="accent"
            [disabled]="!canSubmit"
          >
            SUBMIT
          </button>
          <button
            mat-stroked-button
            type="button"
            color="accent"
            (click)="cancelEditing()"
          >
            CANCEL
          </button>
        </div>
      </form>
    </ng-container>
  </div>
</div>
